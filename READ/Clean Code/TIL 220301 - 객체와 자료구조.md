## Today I Learned
2022.03.01.(화)

## 오늘 읽은 범위
6장 - 객체와 자료구조

## 내용
* **추상화**
  : 클래스는 구체적 구현은 숨기고, 추상화된 형태로 제공해야 한다. (=> DIP 원칙)
  ```java
  // 구체적인 클래스
  interface Vehicle {
    double getFuelTankCapacityInGallons();
    double getGallonsOfGasoline();
  }

  // 추상적인 클래스
  // 남은 연료를 퍼센트로 표현하고, 구체적 단위는 감춘다.
  interface Vehicle {
    double getPercentFuelRemaining();
  }
  ```

* **절차지향과 객체지향**
  * **절차지향**: 자료구조를 추가하기 어렵고, 함수는 추가하기 쉽다.
  * **객체지향**: 자료구조는 추가하기 쉽고, 함수는 추가하기 어렵다.
  * 큰 시스템은 객체지향이 적합하지만, 절차지향 또한 적절히 가미해야 한다.

* **디미터 법칙**  
: 객체는 구체적인 멤버를 감추고, 이를 이용한 동작만을 드러내야 한다. 추상화되지 않은 getter, setter는 자료구조의 변형에 불과하다.
  * 행동의 연속은 제한되지만, 속성의 연속은 허용된다.
  * 속성의 연속은 서로 연관성이 커 쉽게 읽힌다.
```java
// 디미터 법칙 위반
// 객체가 자료구조처럼 쓰이는 예시
String outputDIr = ctx.getOptions().getScratchDir().getAbsolutePath()

// 디미터 법칙 준수
// 객체가 아닌 자료구조(속성의 연속)
String outputDir = ctx.options.scratchDir.absolutePath
// 개선한 버전
Options opts = ctx.options
File scratchDir = opts.scratchDir
String outputDIr = scratchDir.absolutePath
```

* **DTO**  
  * **DTO**: DB, 네트워크 등 데이터 레이어와 직접적으로 통신하는 **자료구조**
    * 다른 레이어로 변환될 때에는 Mapper를 필요로 한다.
    * 자료구조일 뿐, 메소드는 담지 않는다.
  * **활성레코드**: CRUD 메소드를 담은 DTO ex) find, save  
    => 다른 형태로 가공하는 비즈니스 로직은 담아선 안 된다.


## 인용구
 > "인터페이스나 조회/설정 함수만으로는 추상화가 이뤄지지 않는다. 개발자는 객체가 포함하는 자료를 표현할 가장 좋은 방법을 심각하게 고민해야 한다. 아무 생각 없이 조회/설정 함수를 추가하는 방법이 가장 나쁘다." - p119

 > "분별 있는 프로그래머는 모든 것이 객체라는 생각이 미신임을 잘 안다. 때로는 단순한 자료 구조와 절차적인 코드가 가장 적합한 상황도 있다." - p122

## 소감
  평소에 객체와 자료구조 개념을 혼용하고 있었음을 깨달았다. 객체지향의 특성 중 추상화는 인터페이스와 관계 깊음을 알았으며, 인터페이스는 자료구조가 될 수도, 객체가 될 수도 있음을 알았다.  

  앞으로 인터페이스를 정의할 때 추상화에 신경써야겠다. 추상화에 따라 자료구조와 객체를 잘 분리해서 사용해야 한다.
 
## 궁금점

 #노마드클럽 #북클럽 #노개북
